# Intel GPU Example
#
# This example demonstrates how to mount Intel GPU devices for hardware
# acceleration in the container. This is useful for graphics rendering,
# video encoding/decoding, and compute workloads on Intel integrated GPUs.
#
# The key is using the 'devices' field to mount /dev/dri, which provides
# access to Intel GPU Direct Rendering Infrastructure.

image: ubuntu:24.04

args:
  # Core extensions
  - pull            # Pull latest image version
  - persist-image   # Keep the image after container stops
  - x11             # X11 forwarding for GUI applications
  - user            # Match host user inside container
  - cwd             # Mount current working directory
  - git             # Git integration with host config
  - git-clone       # Clone repositories with proper credentials
  - ssh             # SSH server integration
  - ssh-client      # SSH client with host key forwarding

# Mount Intel GPU devices
# /dev/dri contains the renderD128 and card0 nodes for GPU access
devices: /dev/dri

# This configuration enables:
# - OpenGL rendering on Intel integrated graphics
# - Hardware video encoding/decoding (VAAPI, QSV)
# - OpenCL compute on Intel GPUs
#
# Verify GPU access inside the container with:
#   ls -la /dev/dri
#   vainfo  # For video acceleration info (install vainfo package)
#   glxinfo | grep "OpenGL renderer"  # For OpenGL info
