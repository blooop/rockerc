# Extension Blacklist Example
#
# Use extension-blacklist to exclude unwanted extensions, particularly
# useful when you have global extensions in ~/.rockerc.yaml but want to
# disable specific ones for a project.
#
# This is useful for:
# - Disabling GPU support for CPU-only projects
# - Skipping X11 for headless containers
# - Removing conflicting or unnecessary extensions

image: ubuntu:24.04

args:
  # Core extensions (excluding x11 and ssh for headless use)
  - pull
  - persist-image
  - user
  - cwd
  - git
  - git-clone

  # Project-specific extensions
  - pixi

# Exclude specific extensions
# These will be filtered out even if present in global config or args above
extension-blacklist:
  - nvidia          # No GPU needed for this project
  - x11             # Headless container - no GUI
  - cuda            # No CUDA support needed
  - ssh             # No SSH server needed
  - ssh-client      # No SSH client needed

# How blacklist works:
# 1. Global config (~/.rockerc.yaml) might have: [pull, persist-image, x11, user, cwd, git, git-clone, ssh, ssh-client, cuda]
# 2. Project config (this file) has args: [pull, persist-image, user, cwd, git, git-clone, pixi]
# 3. Merged args before blacklist: [pull, persist-image, x11, user, cwd, git, git-clone, ssh, ssh-client, cuda, pixi]
# 4. After applying blacklist: [pull, persist-image, user, cwd, git, git-clone, pixi]
#
# Result: x11, ssh, ssh-client, cuda from global config are excluded

# You can also have blacklist in global config to system-wide exclude extensions
# and override it per-project by adding them back to args
